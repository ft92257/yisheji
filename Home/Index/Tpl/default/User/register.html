<include file='Public:header' />
    <div id="pbody" class="pt-3-5 pb-6">
        <div class="row-2"><div class="extra pt-4 pb-6">
            <div class="regist-l">
                <div class="t-4 pb-2">
                    <h3>注册<span class="regist-login">已经是我们的会员？<a href="__URL__/login">点此登录</a></span></h3>
                </div>
                <div class="table-main-2 form-main-2">
                    <form id='reg_form'>
                        <table>
                            <tr>
                                <th width="80"><span style='color:red'>*</span>用户名</th>
                                <td><input class="text w-31" type="text" id='account' name='account'/><span style='color:red' id='account_msg'></span></td>
                            </tr>
                            <tr>
                                <th><span style='color:red'>*</span>密码</th>
                                <td><input class="text w-31" type="password" id='password' name='password' /><span style='color:red' id='password_msg'></span></td>
                            </tr>
                            <tr>
                                <th><span style='color:red'>*</span>确认密码</th>
                                <td><input class="text w-31" type="password" id='repassword' name='repassword' /><span style='color:red' id='repassword_msg'></span></td>
                            </tr>
                            <tr>
                                <th><span style='color:red'>*</span>邮箱地址</th>
                                <td><input class="text w-31" type="text" id='email'  name='email'/><span style='color:red' id='email_msg'></span></td>
                            </tr>
                            <tr>
                                <th><span style='color:red'>*</span>你的身份</th>
                                <td><label class="mr-2"><input checked class="radio" type="radio" name='type' value='1'/>普通业主</label>
                                    <label><input class="radio" type="radio" name='type' value='2'/>设计师</label>
                                </td>
                            </tr>
                            <tr>
                                <th><span style='color:red'>*</span>装修类别</th>
                                <td><label class="mr-2"><input checked class="radio" type="radio" name='decoration_type' value='2'/>家装</label>
                                    <label><input class="radio" type="radio" name='decoration_type' value='1' />工装</label>
                                </td>
                            </tr>
                            <tr>
                                <th>擅长风格</th>
                                <td>
	                                <select class="w-32" name='style' >
	                                	<option>北欧极简</option>
	                                	<option>美国田园</option>
	                                </select>
                                </td>
                            </tr>
                            <tr>
                                <th>设计费用</th>
                                <td><input class="text w-9" type="text" name='design_fee' id='design_fee'/><div class="exp ml-1">人民币/每平米</div><span style='color:red' id='fee_msg'></span></td>
                            </tr>
                            <tr>
                                <th></th>
                                <td><input class="btn btn-submit-2" type="button" value="立即注册" id='reg_sub' /></td>
                            </tr>
                        </table>
                    </form>
                </div>
                <div class="login-other mt-3">
                	<div class="t">第三方帐号快速注册</div>
                    <div class="cnt clearfix">
                    	<a href="#"><i class="ico ico-43"></i>新浪微博</a>
                        <a href="#"><i class="ico ico-44"></i>腾讯QQ</a>
                        <a href="#"><i class="ico ico-45"></i>腾讯微博</a>
                    </div>
                </div>
            </div>
            <div class="w-36 r">
            	<ul class="list-reigst">
                	<li><div class="l"><i class="icon icon-7"></i></div>
                    	<div class="r">
                        	<strong>一秒注册，如此简单</strong>
                            <p>易设计是建立设计师与业主线上线下一对一服务的装修平台。</p>
                        </div>
                    </li>
                    <li><div class="l"><i class="icon icon-8"></i></div>
                    	<div class="r">
                        	<strong>展示作品，如此便捷</strong>
                            <p>易设计为设计师提供最真实的作品展示空间。</p>
                        </div>
                    </li>
                    <li><div class="l"><i class="icon icon-9"></i></div>
                    	<div class="r">
                        	<strong>智能匹配，如此神奇</strong>
                            <p>易设计为业主提供科学智能匹配，帮您找到最合适的设计师。</p>
                        </div>
                    </li>
                </ul>
            </div>
        </div></div>
    </div>
<!---->
</div>
<include file='Public:footer' />
<script src="__STATICS__/js/check.js"></script>
<script>
var flag = 0;
var error = [];
$(function(){
	error['account'] = false;
	error['password'] = false;
	error['repassword'] = false;
	error['email'] = false;
	$('#account').bind('blur',function(){
		if(!checkUserName($(this).val())){
			$('#account_msg').html('用户名由4~24位字母、数字、下划线或中文(相当于2个字符)组成');
			error['account'] = false;
			return;
		}
		flag = 0;
		actRequest('account='+$(this).val(), '105');
		if(flag == 1){
			$('#account_msg').html('该用户名已经存在');
			error['account'] = false;
			return;
		}
		$('#account_msg').html('');
		error['account'] = true;
	});
	$('#password').bind('blur',function(){
		if(!checkPass($(this).val())){
			$('#password_msg').html('密码名由6~16位字母、数字或下划线组成');
			error['password'] = false;
		}else{
			$('#password_msg').html('');
			error['password'] = true;
		}
	});
	$('#repassword').bind('blur',function(){
		if($(this).val() != $('#password').val()){
			$('#repassword_msg').html('两次密码不一致');
			error['repassword'] = false;
		}else{
			$('#repassword_msg').html('');
			error['repassword'] = true;
		}
	});
	$('#email').bind('blur',function(){
		if(!checkEmail($(this).val())){
			$('#email_msg').html('Email格式不合法');
			error['email'] = false;
			return;
		}
		flag = 0;
		actRequest('email='+$(this).val(), '106');
		if(flag == 1){
			$('#email_msg').html('该Email已经存在');
			error['email'] = false;
			return;
		}
		$('#email_msg').html('');
		error['email'] = true;
	});
	
	$('#design_fee').bind('blur',function(){
		if($(this).val() != ""){
			if(isNaN($(this).val()) || $(this).val() <=0){
				$('#fee_msg').html('输入的费用不合法');
				error['design_fee'] = false;
			}else{
				$('#fee_msg').html('');
				error['design_fee'] = true;
			}
		}
	});
	$('#reg_sub').bind('click',function(){
		for(i in error){
			if(error[i] == false){
				alert('请确认*项填写无误');
				return false;
			}
		}
		actRequest($("#reg_form").serialize(), '1001');
	});
});
</script>
